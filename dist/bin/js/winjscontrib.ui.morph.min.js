/* 
 * WinJS Contrib v2.1.0.4
 * licensed under MIT license (see http://opensource.org/licenses/MIT)
 * sources available at https://github.com/gleborgne/winjscontrib
 */

var WinJSContrib=WinJSContrib||{};WinJSContrib.UI=WinJSContrib.UI||{},WinJSContrib.UI.Morph=WinJSContrib.UI.Morph||{},function(){"use strict";function t(t){this.sourceElement=t,this.checkSource();var e=document.createElement("DIV");e.className="mcn-morph",e.style.position="fixed",e.style.left=this.origin.x+"px",e.style.top=this.origin.y+"px",e.style.width=this.origin.width+"px",e.style.height=this.origin.height+"px",this.sourceStyle.backgroundColor&&(e.style.backgroundColor=this.sourceStyle.backgroundColor),this.sourceStyle.color&&(e.style.color=this.sourceStyle.color),e.style.opacity=0,document.body.appendChild(e),this.element=e,this.$element=$(e)}WinJSContrib.UI.Morph.from=function(e){return new t(e)},t.prototype.checkSource=function(){this.origin=WinJSContrib.UI.offsetFrom(this.sourceElement),this.sourceStyle=getComputedStyle(this.sourceElement)},t.prototype.hide=function(){this.element.style.display="none"},t.prototype.show=function(){this.element.style.display=""},t.prototype.fadeOut=function(t){var e=this;return WinJSContrib.UI.Animation.fadeOut(e.element,t).then(function(){e.element&&(e.element.style.display="none")})},t.prototype.fadeIn=function(t){var e=this;return e.element.style.display="",WinJSContrib.UI.Animation.fadeIn(e.element,t)},t.prototype.dispose=function(){$(this.element).remove(),this.element=null,this.$element=null,this.targetElement=null},t.prototype.morphToElt=function(t){var e=this;e.targetElement=t,e.checkTarget(!1)},t.prototype.checkTarget=function(t){var e=this,i=WinJSContrib.UI.offsetFrom(e.targetElement);e.target=i,t&&(e.element.style.left=e.target.x+"px",e.element.style.top=e.target.y+"px",e.element.style.width=e.target.width+"px",e.element.style.height=e.target.height+"px")},t.prototype.apply=function(t){var e=this;t=t||{};t.duration||350,t.easing||"cubic-bezier(0.1, 0.9, 0.2, 1)",t.delay||0;return new WinJS.Promise(function(i,n){e.$element.velocity({left:e.target.x+"px",top:e.target.y+"px",width:e.target.width+"px",height:e.target.height+"px"},t.duration||300,t.easing||"easeOutQuart").promise().then(i,n)})},t.prototype.applyWith=function(t,e){var i=this;return e=e||{},new WinJS.Promise(function(n,o){i.$element.velocity(t,e.duration||300,e.easing||"easeOutQuart").promise().then(n,o)})},t.prototype.revert=function(t){var e=this;t=t||{},this.checkSource(),this.checkTarget();t.duration||350,t.easing||"cubic-bezier(0.1, 0.9, 0.2, 1)",t.delay||0;return new WinJS.Promise(function(i,n){e.$element.velocity({left:e.origin.x+"px",top:e.origin.y+"px",width:e.origin.width+"px",height:e.origin.height+"px"},t.duration||350,t.easing||"easeOutQuart").promise().then(i,n)})}}();