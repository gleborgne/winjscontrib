<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>WinJS Contrib Source: winjscontrib.crossplatform.js</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	
	<link type="text/css" rel="stylesheet" href="styles/site.cosmo.css">
	
</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top ">
		<div class="navbar-inner">
			<a class="brand" href="index.html">WinJS Contrib</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="global.html#WinJSContrib">WinJSContrib</a>
						</li>
						
						<li>
							<a href="WinJSContrib.Alerts.html">Alerts</a>
						</li>
						
						<li>
							<a href="WinJSContrib.Bindings.html">Bindings</a>
						</li>
						
						<li>
							<a href="WinJSContrib.CrossPlatform.html">CrossPlatform</a>
						</li>
						
						<li>
							<a href="WinJSContrib.CrossPlatform.isMobile.html">isMobile</a>
						</li>
						
						<li>
							<a href="WinJSContrib.Logging.html">Logging</a>
						</li>
						
						<li>
							<a href="WinJSContrib.Logging.Appenders.html">Appenders</a>
						</li>
						
						<li>
							<a href="WinJSContrib.Search.html">Search</a>
						</li>
						
						<li>
							<a href="WinJSContrib.Templates.html">Templates</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.html">UI</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.Animation.html">Animation</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.DataForm.Converters.html">Converters</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.DataForm.defaultBindingOptions.html">defaultBindingOptions</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.DataSources.html">DataSources</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.DataSources.Grouping.html">Grouping</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.WebComponents.html">WebComponents</a>
						</li>
						
						<li>
							<a href="WinJSContrib.Utils.html">Utils</a>
						</li>
						
						<li>
							<a href="WinJSContrib.Utils.ValueParsers.html">ValueParsers</a>
						</li>
						
						<li>
							<a href="WinJSContrib.WinRT.html">WinRT</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="WinJSContrib.Logging.Appenders.ConsoleAppender.html">ConsoleAppender</a>
						</li>
						
						<li>
							<a href="WinJSContrib.Logging.LoggerClass.html">LoggerClass</a>
						</li>
						
						<li>
							<a href="WinJSContrib.Messenger.html">Messenger</a>
						</li>
						
						<li>
							<a href="WinJSContrib.Messenger.SmartWorker.html">SmartWorker</a>
						</li>
						
						<li>
							<a href="WinJSContrib.Search.Index.html">Index</a>
						</li>
						
						<li>
							<a href="WinJSContrib.Search.IndexGroup.html">IndexGroup</a>
						</li>
						
						<li>
							<a href="WinJSContrib.Search.Stemming.Pipeline.html">Pipeline</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.ChildViewFlyout.html">ChildViewFlyout</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.DataForm.html">DataForm</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.DataSources.DataSourceManager.html">DataSourceManager</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.ElasticInput.html">ElasticInput</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.EventTracker.html">EventTracker</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.ExtendedSplash.html">ExtendedSplash</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.FlipSnap.html">FlipSnap</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.FlipViewPager.html">FlipViewPager</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.FluentDOM.html">FluentDOM</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.FlyoutPage.html">FlyoutPage</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.GlobalProgress.html">GlobalProgress</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.GridControl.html">GridControl</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.HubControl.html">HubControl</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.MediaTrigger.html">MediaTrigger</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.MultiPassItem.html">MultiPassItem</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.MultiPassRenderer.html">MultiPassRenderer</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.PageControlNavigator.html">PageControlNavigator</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.SemanticListViews.html">SemanticListViews</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UI.SmartListLayout.html">SmartListLayout</a>
						</li>
						
						<li>
							<a href="WinJSContrib.UPnP.UPnPDevice.html">UPnPDevice</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
			<div class="span12">
				
				<div id="main">
					


		<h1 class="page-title">Source: winjscontrib.crossplatform.js</h1>
    
    <section>
        <article>
            <pre class="sunlight-highlight-javascript linenums">/* 
 * WinJS Contrib v2.1.0.2
 * licensed under MIT license (see http://opensource.org/licenses/MIT)
 * sources available at https://github.com/gleborgne/winjscontrib
 */

var WinJSContrib = WinJSContrib || {};

/**
 * Helpers for cross platform development
 * @namespace
 */
WinJSContrib.CrossPlatform = WinJSContrib.Cross || {};
(function () {

    /**
     * add css class corresponding to cross platform devices
     */
    WinJSContrib.CrossPlatform.crossPlatformClass = function (element) {
        element.classList.add("mcn-xplat");
        if (WinJSContrib.CrossPlatform.isMobile.Android()) {
            element.classList.add("mcn-xplat-android");
        }
        if (WinJSContrib.CrossPlatform.isMobile.iOS()) {
            element.classList.add("mcn-xplat-ios");
        }
        if (WinJSContrib.CrossPlatform.isMobile.BlackBerry()) {
            element.classList.add("mcn-xplat-blackberry");
        }
        if (WinJSContrib.CrossPlatform.isMobile.Windows()) {
            element.classList.add("mcn-xplat-windows");
        }
        return element
    }

    /**
     * check user agent for identifying platform device
     * @namespace
     */
    WinJSContrib.CrossPlatform.isMobile = {
        /**
         * Check if Android
         */
        Android: function () {
            return navigator.userAgent.match(/Android/i);
        },
        /**
         * Check if Blackberry
         */
        BlackBerry: function () {
            return navigator.userAgent.match(/BlackBerry/i);
        },
        /**
         * Check if iOS
         */
        iOS: function () {
            return navigator.userAgent.match(/iPhone|iPad|iPod/i);
        },
        /**
         * Check if Opera mini
         */
        Opera: function () {
            return navigator.userAgent.match(/Opera Mini/i);
        },

        /**
         * Check if Windows
         */
        Windows: function () {
            return navigator.userAgent.match(/IEMobile/i) || window.Windows !== undefined;
        },
        any: function () {
            return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());
        }
    };

    WinJSContrib.CrossPlatform.resolveLocalFileSystemURL = function (path) {
        return new WinJS.Promise(function (c, e) {
            resolveLocalFileSystemURL(path, c, e);
        });
    }

    WinJSContrib.Alerts = WinJSContrib.Alerts || {};

    WinJSContrib.Alerts.messageBox = function messageBox(opt, isPhone) {
        if (opt) {
            return new WinJS.Promise(function (complete, error) {
                var title = "";
                if (opt.title) {
                    title = opt.title;
                }


                var commands = [];
                if (opt.commands &amp;&amp; opt.commands.forEach) {
                    //if (opt.commands.length > 2) {
                    //    return WinJS.Promise.wrapError("you must specify maximum 2 commands on Cordova platforms");
                    //}
                    opt.commands.forEach(function (command, index) {
                        commands.push(command.label);
                    });
                } else
                    commands = ['Ok'];


                if (navigator &amp;&amp; navigator.notification &amp;&amp; navigator.notification.confirm) {
                    navigator.notification.confirm(
                        opt.content, // message
                        function (res) {
                            if (opt.commands &amp;&amp; opt.commands[res - 1] &amp;&amp; opt.commands[res - 1].callback) {
                                var c = opt.commands[res - 1].callback();
                                if (c &amp;&amp; c.then) {
                                    c.then(function () {
                                        complete(true);
                                    });
                                } else {
                                    complete(true);
                                }
                            }
                            else if (res != 0)
                                complete(true);
                            else
                                complete(false);
                        },            // callback to invoke with index of button pressed
                        title,           // title
                        commands     // buttonLabels
                        );
                }
                else {
                    if (window.confirm(title))
                        complete(true);
                    else
                        complete(false);
                }
            });


        }
        return WinJS.Promise.wrapError("you must specify commands as an array of objects with properties text and callback such as {text: '', callback: function(c){}}");
    };

    WinJSContrib.Alerts.message = function (title, content) {
        return WinJSContrib.Alerts.messageBox({ title: title, content: content });
    }

    WinJSContrib.Alerts.confirm = function (title, content, yes, no) {
        return new WinJS.Promise(function (complete, error) {
            WinJSContrib.Alerts.messageBox({
                title: title,
                content: content,
                commands: [
                    {
                        label: yes,
                        callback: function (e) {
                            complete(true);
                        },
                        isDefault: true
                    },
                    {
                        label: no,
                        callback: function (e) {
                            complete(false);
                        }
                    }
                ]
            });
        });
    }

    WinJSContrib.Alerts.toastNotification = function (data) {
        if (window.plugin &amp;&amp; window.plugin.notification) {
            window.plugin.notification.local.add({
                id: WinJSContrib.Utils.guid(), // A unique id of the notifiction
                date: new Date(), // This expects a date object
                message: data.text, // The message that is displayed
                title: data.text, // The title of the message
                //repeat: String,  // Either 'secondly', 'minutely', 'hourly', 'daily', 'weekly', 'monthly' or 'yearly'
                //badge: Number,  // Displays number badge to notification
                //sound: String,  // A sound to be played
                //json: String,  // Data to be passed through the notification
                autoCancel: true, // Setting this flag and the notification is automatically canceled when the user clicks it
                //ongoing: Boolean, // Prevent clearing of notification (Android only)
            });
        }
        else {
            throw "No notification plugin found";
        }
    }

    WinJSContrib.Alerts.toast = function (text, picture) {
        WinJSContrib.Alerts.toastNotification({ text: text, picture: picture });
    }
})();</pre>
        </article>
    </section>





				</div>

				<div class="clearfix"></div>
				<footer>
					
					by MCNEXT
					<br />
					
					
		<span class="copyright">
		copyright MCNEXT
		</span>
					<br />
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a>
		on Thu Jul 16 2015 17:20:42 GMT+0200 (Romance Daylight Time) using the <a href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<br clear="both">
		</div>

	</div>
	<script src="scripts/sunlight.js"></script>
	<script src="scripts/sunlight.javascript.js"></script>
	<script src="scripts/sunlight-plugin.doclinks.js"></script>
	<script src="scripts/sunlight-plugin.linenumbers.js"></script>
	<script src="scripts/sunlight-plugin.menu.js"></script>
	<script src="scripts/jquery.min.js"></script>
	<script src="scripts/jquery.scrollTo.js"></script>
	<script src="scripts/jquery.localScroll.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>


	<script>  Sunlight.highlightAll({lineNumbers:true,  showMenu: true, enableDoclinks :true}); </script>

	<script>
		$( function () {
			$( "#toc" ).toc( {
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : 60
			} );
			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );

		} );
	</script>

	

</body>
</html>
